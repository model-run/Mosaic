(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5160:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),r(9678),r(3025),r(5841);var t=r(5154),a=r(2090),l=r(952),n=r.n(l),i=r(271),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9678)),"/Users/fangyong/agent/Mosaic/web/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3025)),"/Users/fangyong/agent/Mosaic/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5841,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/fangyong/agent/Mosaic/web/src/app/page.tsx"],m="/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5578:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,9360,23)),Promise.resolve().then(r.t.bind(r,789,23)),Promise.resolve().then(r.t.bind(r,9663,23)),Promise.resolve().then(r.t.bind(r,239,23)),Promise.resolve().then(r.t.bind(r,2230,23)),Promise.resolve().then(r.t.bind(r,7892,23))},1970:()=>{},9260:(e,s,r)=>{Promise.resolve().then(r.bind(r,9735))},9735:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var t=r(1349),a=r(6083);let l=[{id:"llama-7b",name:"LLaMA-7B",size:"7B",minMemory:14,cudaVersion:"11.8+",supportedEngines:["vllm","tensorrt-llm","transformers"],category:"llm",description:"Meta 开源的大语言模型，7B 参数版本"},{id:"llama-13b",name:"LLaMA-13B",size:"13B",minMemory:26,cudaVersion:"11.8+",supportedEngines:["vllm","tensorrt-llm","transformers"],category:"llm",description:"Meta 开源的大语言模型，13B 参数版本"},{id:"llama-70b",name:"LLaMA-70B",size:"70B",minMemory:140,cudaVersion:"11.8+",supportedEngines:["vllm","tensorrt-llm"],category:"llm",description:"Meta 开源的大语言模型，70B 参数版本"},{id:"chatglm-6b",name:"ChatGLM-6B",size:"6B",minMemory:12,cudaVersion:"11.7+",supportedEngines:["transformers","vllm"],category:"llm",description:"智谱 AI 开源的中文对话模型"},{id:"chatglm-32b",name:"ChatGLM-32B",size:"32B",minMemory:64,cudaVersion:"11.7+",supportedEngines:["transformers","vllm"],category:"llm",description:"智谱 AI 开源的中文对话模型，32B 参数版本"},{id:"qwen-7b",name:"Qwen-7B",size:"7B",minMemory:14,cudaVersion:"11.8+",supportedEngines:["vllm","transformers"],category:"llm",description:"阿里云开源的通义千问模型"},{id:"qwen-14b",name:"Qwen-14B",size:"14B",minMemory:28,cudaVersion:"11.8+",supportedEngines:["vllm","transformers"],category:"llm",description:"阿里云开源的通义千问模型，14B 参数版本"},{id:"mistral-7b",name:"Mistral-7B",size:"7B",minMemory:14,cudaVersion:"11.8+",supportedEngines:["vllm","transformers"],category:"llm",description:"Mistral AI 开源的高效语言模型"},{id:"stable-diffusion-xl",name:"Stable Diffusion XL",size:"6.6B",minMemory:8,cudaVersion:"11.8+",supportedEngines:["transformers","diffusers"],category:"vision",description:"Stability AI 开源的图像生成模型"},{id:"stable-diffusion-2.1",name:"Stable Diffusion 2.1",size:"1.1B",minMemory:4,cudaVersion:"11.7+",supportedEngines:["transformers","diffusers"],category:"vision",description:"Stability AI 开源的图像生成模型"},{id:"llava-7b",name:"LLaVA-7B",size:"7B",minMemory:16,cudaVersion:"11.8+",supportedEngines:["transformers"],category:"multimodal",description:"多模态视觉语言模型，支持图像理解和对话"},{id:"llava-13b",name:"LLaVA-13B",size:"13B",minMemory:28,cudaVersion:"11.8+",supportedEngines:["transformers"],category:"multimodal",description:"多模态视觉语言模型，13B 参数版本"}],n=[{id:"vllm",name:"vLLM",description:"高性能大语言模型推理引擎，支持连续批处理和 PagedAttention",dockerImage:"vllm/vllm-openai:latest",supportedGPUs:["rtx-4090","rtx-4080","rtx-4070","rtx-3090","rtx-3080","a100-40gb","a100-80gb","h100-80gb"],features:["连续批处理","PagedAttention","动态批处理","多 GPU 支持","OpenAI 兼容 API"]},{id:"tensorrt-llm",name:"TensorRT-LLM",description:"NVIDIA 优化的推理引擎，针对 NVIDIA GPU 深度优化",dockerImage:"nvcr.io/nvidia/tensorrt-llm:latest",supportedGPUs:["rtx-4090","rtx-4080","rtx-4070","rtx-3090","rtx-3080","a100-40gb","a100-80gb","h100-80gb","v100-16gb"],features:["TensorRT 优化","量化支持","多 GPU 并行","动态形状","高性能推理"]},{id:"transformers",name:"Transformers",description:"Hugging Face 标准推理库，兼容性最好，易于调试",dockerImage:"huggingface/transformers-pytorch-gpu:latest",supportedGPUs:["rtx-4090","rtx-4080","rtx-4070","rtx-3090","rtx-3080","a100-40gb","a100-80gb","h100-80gb","v100-16gb","rtx-3060"],features:["广泛兼容","易于调试","丰富模型支持","量化支持","社区活跃"]},{id:"ollama",name:"Ollama",description:"本地部署工具，支持多种模型格式，使用简单",dockerImage:"ollama/ollama:latest",supportedGPUs:["rtx-4090","rtx-4080","rtx-4070","rtx-3090","rtx-3080","a100-40gb","a100-80gb","h100-80gb","rtx-3060"],features:["简单易用","自动模型管理","RESTful API","多模型支持","本地部署"]}],i=[{id:"rtx-4090",name:"NVIDIA RTX 4090",memory:24,cudaCapability:"8.9",recommendedEngines:["vllm","tensorrt-llm","transformers"],tier:"high"},{id:"rtx-4080",name:"NVIDIA RTX 4080",memory:16,cudaCapability:"8.9",recommendedEngines:["vllm","tensorrt-llm","transformers"],tier:"high"},{id:"rtx-4070",name:"NVIDIA RTX 4070",memory:12,cudaCapability:"8.9",recommendedEngines:["vllm","transformers"],tier:"mid"},{id:"rtx-3090",name:"NVIDIA RTX 3090",memory:24,cudaCapability:"8.6",recommendedEngines:["vllm","tensorrt-llm","transformers"],tier:"high"},{id:"rtx-3080",name:"NVIDIA RTX 3080",memory:10,cudaCapability:"8.6",recommendedEngines:["vllm","transformers"],tier:"mid"},{id:"a100-40gb",name:"NVIDIA A100 40GB",memory:40,cudaCapability:"8.0",recommendedEngines:["vllm","tensorrt-llm","transformers"],tier:"professional"},{id:"a100-80gb",name:"NVIDIA A100 80GB",memory:80,cudaCapability:"8.0",recommendedEngines:["vllm","tensorrt-llm","transformers"],tier:"professional"},{id:"v100-16gb",name:"NVIDIA V100 16GB",memory:16,cudaCapability:"7.0",recommendedEngines:["transformers","tensorrt-llm"],tier:"professional"},{id:"h100-80gb",name:"NVIDIA H100 80GB",memory:80,cudaCapability:"9.0",recommendedEngines:["vllm","tensorrt-llm","transformers"],tier:"professional"},{id:"rtx-3060",name:"NVIDIA RTX 3060",memory:12,cudaCapability:"8.6",recommendedEngines:["transformers"],tier:"entry"}];function o({selectedGPU:e,onGPUChange:s}){let[r,l]=(0,a.useState)(!1),n=e=>{switch(e){case"entry":return"bg-green-100 text-green-800";case"mid":return"bg-blue-100 text-blue-800";case"high":return"bg-purple-100 text-purple-800";case"professional":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=e=>{switch(e){case"entry":return"入门级";case"mid":return"中端";case"high":return"高端";case"professional":return"专业级";default:return"未知"}};return(0,t.jsxs)("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择 GPU"}),(0,t.jsxs)("button",{type:"button",onClick:()=>l(!r),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e?(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.memory,"GB 显存 • CUDA ",e.cudaCapability]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n(e.tier)}`,children:o(e.tier)})]}):t.jsx("span",{className:"text-gray-500",children:"请选择 GPU..."}),t.jsx("svg",{className:"ml-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&t.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:i.map(e=>t.jsx("button",{type:"button",onClick:()=>{s(e),l(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.memory,"GB 显存 • CUDA ",e.cudaCapability]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n(e.tier)}`,children:o(e.tier)})]})},e.id))})]})}function d({selectedModel:e,onModelChange:s,availableModels:r=l}){let[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(""),c=r.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())),m=e=>{switch(e){case"llm":return"bg-blue-100 text-blue-800";case"vision":return"bg-green-100 text-green-800";case"multimodal":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},x=e=>{switch(e){case"llm":return"大语言模型";case"vision":return"图像生成";case"multimodal":return"多模态";default:return"其他"}};return(0,t.jsxs)("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择模型"}),(0,t.jsxs)("button",{type:"button",onClick:()=>i(!n),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e?(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.size," • 最低 ",e.minMemory,"GB 显存"]})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(e.category)}`,children:x(e.category)})]}):t.jsx("span",{className:"text-gray-500",children:"请选择模型..."}),t.jsx("svg",{className:"ml-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,t.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-80 overflow-hidden",children:[t.jsx("div",{className:"p-3 border-b border-gray-200",children:t.jsx("input",{type:"text",placeholder:"搜索模型...",value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),(0,t.jsxs)("div",{className:"max-h-60 overflow-auto",children:[c.map(e=>t.jsx("button",{type:"button",onClick:()=>{s(e),i(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mb-1",children:[e.size," • 最低 ",e.minMemory,"GB 显存 • CUDA ",e.cudaVersion]}),t.jsx("div",{className:"text-xs text-gray-400",children:e.description})]}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(e.category)}`,children:x(e.category)})]})},e.id)),0===c.length&&t.jsx("div",{className:"px-4 py-3 text-gray-500 text-center",children:"未找到匹配的模型"})]})]})]})}function c({selectedEngine:e,onEngineChange:s,availableEngines:r=n}){let[l,i]=(0,a.useState)(!1);return(0,t.jsxs)("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"选择推理引擎"}),(0,t.jsxs)("button",{type:"button",onClick:()=>i(!l),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e?(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.name}),t.jsx("div",{className:"text-sm text-gray-500",children:e.description})]}):t.jsx("span",{className:"text-gray-500",children:"请选择推理引擎..."}),t.jsx("svg",{className:"ml-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&t.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:r.map(e=>t.jsx("button",{type:"button",onClick:()=>{s(e),i(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none",children:(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.name}),t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:e.description}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,t.jsxs)("div",{className:"mb-1",children:["Docker 镜像: ",e.dockerImage]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:e.features.map((e,s)=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:e},s))})]})]})},e.id))})]})}function m({gpu:e,model:s,engine:r,onParametersChange:l}){let[n,i]=(0,a.useState)({batchSize:1,maxSeqLen:2048,useFp16:!0,gpuMemoryUtilization:.8,tensorParallelSize:1,port:8e3,modelPath:"/models"}),o=(e,s)=>{i(r=>({...r,[e]:s}))};return t.jsx("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"参数配置"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"批处理大小"}),t.jsx("input",{type:"number",min:"1",max:"32",value:n.batchSize,onChange:e=>o("batchSize",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"同时处理的请求数量，影响显存使用和吞吐量"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大序列长度"}),(0,t.jsxs)("select",{value:n.maxSeqLen,onChange:e=>o("maxSeqLen",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[t.jsx("option",{value:1024,children:"1024"}),t.jsx("option",{value:2048,children:"2048"}),t.jsx("option",{value:4096,children:"4096"}),t.jsx("option",{value:8192,children:"8192"}),t.jsx("option",{value:16384,children:"16384"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"模型能处理的最大输入长度"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["GPU 内存利用率: ",Math.round(100*n.gpuMemoryUtilization),"%"]}),t.jsx("input",{type:"range",min:"0.1",max:"0.95",step:"0.05",value:n.gpuMemoryUtilization,onChange:e=>o("gpuMemoryUtilization",parseFloat(e.target.value)),className:"w-full"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"分配给模型推理的 GPU 内存比例"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"张量并行大小"}),(0,t.jsxs)("select",{value:n.tensorParallelSize,onChange:e=>o("tensorParallelSize",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[t.jsx("option",{value:1,children:"1 (单 GPU)"}),t.jsx("option",{value:2,children:"2 (双 GPU)"}),t.jsx("option",{value:4,children:"4 (四 GPU)"}),t.jsx("option",{value:8,children:"8 (八 GPU)"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"用于模型并行推理的 GPU 数量"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"服务端口"}),t.jsx("input",{type:"number",min:"1000",max:"65535",value:n.port,onChange:e=>o("port",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"API 服务监听的端口号"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"模型路径"}),t.jsx("input",{type:"text",value:n.modelPath,onChange:e=>o("modelPath",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"模型文件在容器内的路径"})]})]}),t.jsx("div",{className:"mt-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"useFp16",checked:n.useFp16,onChange:e=>o("useFp16",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"useFp16",className:"ml-2 block text-sm text-gray-700",children:"使用 FP16 精度 (减少显存使用，可能影响精度)"})]})})]})})}function x({gpu:e,model:s,engine:r,parameters:l}){let[n,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),c=async()=>{if(!e||!s||!r){alert("请先选择 GPU、模型和推理引擎");return}d(!0);try{let t=function(e){let{gpu:s,model:r,engine:t,parameters:a}=e,l="docker run --gpus all",n=[`-p ${a.port}:${a.port}`],i=[`-v /my/models:${a.modelPath}`,"-v /tmp/.X11-unix:/tmp/.X11-unix:rw"],o={CUDA_VISIBLE_DEVICES:"0",NVIDIA_VISIBLE_DEVICES:"all",NVIDIA_DRIVER_CAPABILITIES:"compute,utility"},d=[];switch(t.id){case"vllm":l+=` \\
  ${n.join(" \\\n  ")} \\
  ${i.join(" \\\n  ")} \\
  ${t.dockerImage}`,d=[`--model ${a.modelPath}/${r.id}`,`--tensor-parallel-size ${a.tensorParallelSize}`,`--gpu-memory-utilization ${a.gpuMemoryUtilization}`,`--max-model-len ${a.maxSeqLen}`,"--host 0.0.0.0",`--port ${a.port}`],a.useFp16&&d.push("--dtype half");break;case"tensorrt-llm":l+=` \\
  ${n.join(" \\\n  ")} \\
  ${i.join(" \\\n  ")} \\
  ${t.dockerImage}`,d=[`--model_dir ${a.modelPath}/${r.id}`,`--max_batch_size ${a.batchSize}`,`--max_input_len ${a.maxSeqLen}`,`--max_output_len ${a.maxSeqLen}`,"--host 0.0.0.0",`--port ${a.port}`];break;case"transformers":l+=` \\
  ${n.join(" \\\n  ")} \\
  ${i.join(" \\\n  ")} \\
  ${t.dockerImage}`,d=["python -m transformers.pipeline",`--model_name_or_path ${a.modelPath}/${r.id}`,"--device_map auto",`--torch_dtype ${a.useFp16?"float16":"float32"}`,`--max_length ${a.maxSeqLen}`,`--batch_size ${a.batchSize}`];break;case"ollama":l+=` \\
  ${n.join(" \\\n  ")} \\
  ${i.join(" \\\n  ")} \\
  ${t.dockerImage}`,d=["serve",`--host 0.0.0.0:${a.port}`]}let c=Object.entries(o).map(([e,s])=>`-e ${e}=${s}`).join(" \\\n  ");return c&&(l=l.replace(t.dockerImage,`${c} \\
  ${t.dockerImage}`)),d.length>0&&(l+=` \\
  ${d.join(" \\\n  ")}`),{dockerCommand:l,environmentVariables:o,volumeMounts:i,portMappings:n,gpuConfig:"--gpus all",additionalFlags:d}}({gpu:e,model:s,engine:r,parameters:l});i(t)}catch(e){console.error("生成命令时出错:",e),alert("生成命令时出错，请检查配置")}finally{d(!1)}},m=async e=>{try{await navigator.clipboard.writeText(e),alert("命令已复制到剪贴板")}catch(r){console.error("复制失败:",r);let s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),alert("命令已复制到剪贴板")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"生成的 Docker 命令"}),t.jsx("button",{onClick:c,disabled:!e||!s||!r||o,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:o?"生成中...":"生成命令"})]}),n&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Docker 启动命令"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx("pre",{className:"code-block whitespace-pre-wrap",children:n.dockerCommand}),t.jsx("button",{onClick:()=>m(n.dockerCommand),className:"absolute top-2 right-2 btn-secondary text-xs",children:"复制"})]})]}),Object.keys(n.environmentVariables).length>0&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"环境变量"}),t.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:Object.entries(n.environmentVariables).map(([e,s])=>(0,t.jsxs)("div",{className:"text-sm font-mono",children:[t.jsx("span",{className:"text-blue-600",children:e}),"=",(0,t.jsxs)("span",{className:"text-green-600",children:['"',s,'"']})]},e))})]}),n.volumeMounts.length>0&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"卷挂载"}),t.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.volumeMounts.map((e,s)=>t.jsx("div",{className:"text-sm font-mono",children:e},s))})]}),n.portMappings.length>0&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"端口映射"}),t.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.portMappings.map((e,s)=>t.jsx("div",{className:"text-sm font-mono",children:e},s))})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"使用说明"}),(0,t.jsxs)("ol",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:"1. 确保已安装 Docker 和 NVIDIA Container Toolkit"}),t.jsx("li",{children:"2. 将模型文件放置在本地目录（如 /my/models）"}),t.jsx("li",{children:"3. 复制上述命令到终端运行"}),t.jsx("li",{children:"4. 等待容器启动完成"}),(0,t.jsxs)("li",{children:["5. 通过 http://localhost:",l.port," 访问服务"]})]})]})]}),e&&s&&r?null:t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsx("p",{className:"text-yellow-800 text-sm",children:"请先选择 GPU、模型和推理引擎，然后点击“生成命令”按钮"})})]})}function u(){let[e,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),[h,g]=(0,a.useState)(null);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ModelRun.io"})}),t.jsx("div",{className:"ml-4",children:t.jsx("p",{className:"text-sm text-gray-500",children:"模型运行参数生成与部署助手"})})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})})]})})}),t.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"card",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"配置选择"}),(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx(o,{selectedGPU:e,onGPUChange:s}),t.jsx(d,{selectedModel:r,onModelChange:i,availableModels:e?l.filter(s=>s.minMemory<=e.memory&&s.supportedEngines.some(e=>!u||e===u.id)):[]}),t.jsx(c,{selectedEngine:u,onEngineChange:p,availableEngines:(()=>{if(!e)return[];let s=n.filter(s=>s.supportedGPUs.includes(e.id));return r?s.filter(e=>r.supportedEngines.includes(e.id)):s})()})]})]}),e&&r&&u&&t.jsx("div",{className:"card",children:t.jsx(m,{gpu:e,model:r,engine:u,onParametersChange:g})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"card",children:t.jsx(x,{gpu:e,model:r,engine:u,parameters:h})}),(0,t.jsxs)("div",{className:"card",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"功能特性"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"显卡识别"}),t.jsx("p",{className:"text-sm text-gray-500",children:"自动匹配 GPU 和推理引擎"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})})}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"参数模板"}),t.jsx("p",{className:"text-sm text-gray-500",children:"内置主流模型配置"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m0 0V1a1 1 0 011-1h2a1 1 0 011 1v18a1 1 0 01-1 1H4a1 1 0 01-1-1V4a1 1 0 011-1h2a1 1 0 011 1v3m0 0h8"})})})}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Docker 命令"}),t.jsx("p",{className:"text-sm text-gray-500",children:"一键生成启动命令"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:t.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"规格对照"}),t.jsx("p",{className:"text-sm text-gray-500",children:"显存需求和 CUDA 版本"})]})]})]})]})]})]})}),t.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"text-center text-gray-500 text-sm",children:[t.jsx("p",{children:"\xa9 2024 ModelRun.io - 模型运行参数生成与部署助手"}),t.jsx("p",{className:"mt-2",children:"支持主流 GPU 和推理引擎，让 AI 模型部署更简单"})]})})})]})}},3025:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n,metadata:()=>a,viewport:()=>l});var t=r(3848);r(4123);let a={title:"ModelRun.io - 模型运行参数生成与部署助手",description:"在不同显卡、推理引擎下，快速生成 Docker 启动命令，并展示模型的最小运行规格、CUDA 版本要求及推荐配置。",keywords:["AI模型","Docker","GPU","推理引擎","vLLM","TensorRT","LLaMA","ChatGLM"],authors:[{name:"ModelRun.io Team"}],robots:"index, follow",openGraph:{title:"ModelRun.io - 模型运行参数生成与部署助手",description:"快速生成 AI 模型的 Docker 启动命令，支持多种 GPU 和推理引擎",type:"website",locale:"zh_CN"}},l={width:"device-width",initialScale:1};function n({children:e}){return t.jsx("html",{lang:"zh-CN",children:t.jsx("body",{className:"font-sans",children:e})})}},9678:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(6525).createProxy)(String.raw`/Users/fangyong/agent/Mosaic/web/src/app/page.tsx#default`)},4123:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[702],()=>r(5160));module.exports=t})();